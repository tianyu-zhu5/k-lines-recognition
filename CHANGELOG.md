# 更新日志

## v1.2.0 (2025-10-01)

### 🎉 重大更新：形态数量翻倍

形态数量从12种扩展到**28种**，新增16种经典K线形态！

#### 新增顶部反转形态（6种）
- 🔴 **黄昏之星** - 看跌反转信号（强）
- 🔴 **黄昏十字星** - 强烈看跌反转信号（强）
- 🔴 **乌云盖顶** - 看跌反转信号（强）
- 🔴 **倾盆大雨** - 强烈看跌反转信号（强）
- 🔴 **吊颈线** - 看跌反转信号（中等）
- 🔴 **平顶** - 看跌反转信号（中等）
- 🔴 **高档五阴线** - 见顶信号（中等）
- 🔴 **两黑夹一红** - 见顶信号（中等）
- 🔴 **淡友反攻** - 见顶信号（中等）
- 🔴 **穿头破脚(看跌)** - 卖出信号（强）
- 🔴 **身怀六甲(看跌)** - 卖出信号（中等）

#### 新增底部反转形态（5种）
- 🟢 **连续跳空三阴线** - 强烈见底信号（强）
- 🟢 **低档五阳线** - 见底信号（中等）
- 🟢 **两红夹一黑** - 反转信号（中等）
- 🟢 **穿头破脚(看涨)** - 买进信号（强）
- 🟢 **身怀六甲(看涨)** - 买进信号（中等）

#### 技术改进
- 完善趋势判断逻辑
- 优化形态识别精度
- 所有形态支持自动颜色编码
- 完美集成现有分类系统

#### 测试数据
在000001_SZ（500天数据）测试中：
- 识别到 **378个形态**
- 底部反转：77个
- 顶部反转：148个
- 支撑信号：140个
- 持续下跌：13个

### 📚 文档更新
- README.md完整更新，列出所有28种形态
- 按类别和强度详细分类
- 更新测试数据和统计信息

---

## v1.1.0 (2025-10-01)

### 🎉 新增功能

#### 1. 形态分类系统
- 新增形态类别属性：底部反转、持续上涨、顶部反转、持续下跌、支撑
- 新增信号类型属性：看涨、看跌、中性
- 新增信号强度属性：强、中等、弱
- 每个形态自动分配对应颜色

#### 2. 彩色标注显示
- 🟢 **深绿色** (#26a69a) - 底部反转/强烈看涨信号
- 🟩 **浅绿色** (#66bb6a) - 持续上涨信号
- 🔴 **红色** (#ef5350) - 顶部反转/强烈看跌信号
- 🟥 **浅红色** (#e57373) - 持续下跌信号
- 🔵 **蓝色** (#42a5f5) - 支撑信号
- 🟠 **橙色** (#ffa726) - 其他信号

#### 3. 分类筛选功能
- 在侧边栏新增"选择形态类别"多选框
- 支持按类别筛选形态
- 支持按具体形态筛选
- 颜色图例说明

#### 4. 新增形态识别器（从5种增加到12种）

**新增底部反转形态（2种）：**
- 曙光初现 - 看涨反转信号（强）
- 旭日东升 - 强烈看涨反转信号（强）

**新增持续上涨形态（2种）：**
- 红三兵 - 持续上涨信号（强）
- 跳空上扬 - 持续上涨信号（强）

**新增顶部反转形态（1种）：**
- 射击之星 - 看跌反转信号（强）

**新增持续下跌形态（1种）：**
- 黑三鸦 - 持续下跌信号（强）

**新增支撑形态（1种）：**
- 平底 - 支撑信号（中等）

#### 5. 统计功能增强
- 新增按类别统计形态数量
- 详细识别结果列表显示类别、信号类型、强度
- 欢迎页面显示形态分类和颜色标识

### 🔧 优化改进

#### 1. 代码结构优化
- `PatternResult` 数据类新增 `category`, `signal_type`, `strength`, `color` 字段
- `PatternRecognizer.register()` 装饰器支持新参数
- `recognize_patterns()` 函数支持按类别筛选
- 颜色分配逻辑封装在 `_get_color()` 方法中

#### 2. 界面优化
- 侧边栏添加类别筛选选项
- 添加颜色图例说明
- 统计模块分为"按类别"和"具体形态"两部分
- 欢迎页面使用emoji标识不同类别形态

#### 3. 可扩展性提升
- 装饰器模式支持自动颜色分配
- 新增形态只需一个函数，系统自动集成
- 类别和颜色由系统自动管理

### 📚 文档更新
- README.md 完整更新，包含新功能说明
- 添加扩展新形态的示例代码
- 添加颜色编码说明
- 更新核心功能列表

---

## v1.0.0 (2025-10-01)

### 初始版本

- 基于 Streamlit + ECharts 的K线形态识别系统
- 支持5种基本形态：早晨之星、早晨十字星、好友反攻、锤子线、倒锤子
- 智能搜索功能（代码/名称/拼音）
- 交互式K线图
- 形态统计分析
- 模块化设计
